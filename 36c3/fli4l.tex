%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% documentclass and packages
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\RequirePackage{atbegshi}           % workaround for newer PGF versions
%\documentclass[hyperref={pdfpagelabels=false}]{beamer}
%\documentclass[aspectratio=1610,t]{beamer}
\documentclass[t]{beamer}
% https://sourceforge.net/tracker/index.php?func=detail&aid=1848912&group_id=92412&atid=600660
\usepackage{lmodern}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{textcomp}

\usepackage[ngerman]{babel}
\usepackage[babel,english=american,german=guillemets]{csquotes}	% french
%\usepackage{dirtree}
\usepackage{microtype}
\usepackage{tikz}
%\usetikzlibrary{arrows,positioning}
%\usepackage{smartdiagram}
\usepackage[german]{todonotes}
\presetkeys{todonotes}{inline}{}
\usepackage[normalem]{ulem}

\newcommand{\soutthick}[1]{%
    \renewcommand{\ULthickness}{1pt}%
        \sout{#1}%
    \renewcommand{\ULthickness}{.4pt}% Resetting to ulem default
}

% colors for listings
\definecolor{lightergray}{gray}{.95}
\definecolor{darkblue}{rgb}{0,0,0.5}
\definecolor{darkgreen}{rgb}{0,0.5,0}
\definecolor{darkred}{rgb}{0.5,0,0}
\definecolor{darkerblue}{rgb}{0,0,0.4}
\definecolor{darkergreen}{rgb}{0,0.4,0}
\definecolor{darkerred}{rgb}{0.4,0,0}

\usepackage[]{listings}
\lstloadlanguages{bash,sh}
\lstset{%
    basicstyle=\ttfamily\small\mdseries,
    keywordstyle=\bfseries\color{darkblue},
    identifierstyle=,
    commentstyle=\color{darkgray},
    stringstyle=\itshape\color{darkred},
    frame=none,
    showstringspaces=false,
    tabsize=4,
    backgroundcolor=\color{lightergray},
    extendedchars=false,
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% macros
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% strong emphasis (like in HTML)
\makeatletter
\newcommand{\strong}[1]{\@strong{#1}}
\newcommand{\@@strong}[1]{\textbf{\let\@strong\@@@strong#1}}
\newcommand{\@@@strong}[1]{\textnormal{\let\@strong\@@strong#1}}
\let\@strong\@@strong
\makeatother

% C++ like the C++ FAQ proposes
% https://isocpp.org/wiki/faq/misc-environmental-issues#latex-macros
\newcommand{\CXX}{C\nolinebreak\hspace{-.05em}\raisebox{.4ex}{\tiny\bf +}\nolinebreak\hspace{-.10em}\raisebox{.4ex}{\tiny\bf +}}
\def\CPP{{C\nolinebreak[4]\hspace{-.05em}\raisebox{.4ex}{\tiny\bf ++}}}

\newcommand*{\greenemph}[1]{%
    \tikz[baseline]
        \node[%
            rectangle,
            fill=green!80,
            rounded corners=0.8mm,
            inner sep=0.8mm,
            anchor=base
        ]{#1};%
}

\newcommand{\dashdash}[1]{-\hspace{0pt}-#1}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% preparations for beamer
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\setbeamertemplate{caption}[caption name own line]

\useinnertheme{default}
\useoutertheme{infolines}
%\usecolortheme[rgb={0.28,0.37,0.52}]{structure}
\usecolortheme[rgb={0.18,0.23,0.33}]{structure}
%\usecolortheme{beaver}
\usefonttheme{structurebold}

%%% Ränder vergrößern für's Café Central
%\setbeamersize{text margin left=1.2cm}
%\setbeamersize{text margin right=1.2cm}

%%% let hyperlinks look like hyperlinks
\hypersetup{%
    colorlinks=true,
    linkcolor=black,
    urlcolor=darkblue
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% images
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\pgfdeclareimage[height=0.75\paperheight]{cisco7600}{img/Cisco7600seriesrouter.jpg}
\pgfdeclareimage[width=0.35\textwidth]{wdr4300}{img/img_4361.jpg}
\pgfdeclareimage[width=0.35\textwidth]{di524}{img/D-Link_DI-524.jpg}
\pgfdeclareimage[width=0.35\textwidth]{fb6490}{img/FRITZ!Box_6490_Cable.jpg}
\pgfdeclareimage[width=0.35\textwidth]{wrt54g}{img/Linksys_BEFSR41_Router_20040321.jpg}
\pgfdeclareimage[width=0.3\textwidth]{apu1}{img/img_4856.jpg}
\pgfdeclareimage[height=0.75\paperheight]{dlarch}{img/Screenshot_20191208_170809.png}
\pgfdeclareimage[width=\textwidth]{unpacked-tarball}{img/Screenshot_20191208_213440.png}
\pgfdeclareimage[width=0.5\textwidth]{config-folder}{img/Screenshot_20191208_220336.png}
\pgfdeclareimage[width=0.5\textwidth]{win-build-build}{img/win_build_build.png}
\pgfdeclareimage[height=0.75\paperheight]{dmz}{img/dmz.png}
\pgfdeclareimage[width=0.3\textwidth]{buildroot-logo}{img/buildroot-logo.png}

% gallery
\pgfdeclareimage[height=0.6\paperheight]{gallery-sternquell}{img/gallery/bild7.jpg}

\pgfdeclareimage[height=0.35\paperheight]{gallery-rack}{img/gallery/DSC01859.JPG}
%\pgfdeclareimage[height=0.35\paperheight]{gallery-tobi}{img/gallery/gesamtansicht.JPG}
\pgfdeclareimage[height=0.35\paperheight]{gallery-tobi}{img/gallery/router.JPG}
\pgfdeclareimage[height=0.35\paperheight]{gallery-mikro}{img/gallery/img_0150A.jpg}
\pgfdeclareimage[height=0.35\paperheight]{gallery-wrap}{img/gallery/wrap1_fr.jpg}

\titlegraphic{%
%    \input{../img/fli4l-cubeonly-scale_0.15.tikz}
    \input{img/fli4l_bleeptrack_2.tikz}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% title, author, date
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\title[fli4l]{fli4l}
\subtitle{the flexible internet router for linux}
\author{Alexander Dahl (@LeSpocky)}
\institute[fli4l.de]{\url{https://www.fli4l.de/}}
\date{2019-12-30 (36C3)}
%\subject{subj}
%\keywords{FLOSS}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% document
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}

\begin{frame}
    \titlepage
\end{frame}

%\begin{frame}
%    \tableofcontents
%\end{frame}

\section*{Wer?}

\begin{frame}
    \frametitle{Wer}
    \framesubtitle{Yet another free software developer \dots}

    \begin{columns}[T,onlytextwidth]
        \begin{column}{0.7\textwidth}
            \begin{block}{Hintergrund}
                \begin{itemize}
                    \item benutzt Freie Software seit $\approx 2001$
                    \item trägt zu Freier Software bei seit $\approx 2003$
                    \item Diplom-Ingenieur (Mechatronik)
                    \item arbeitet als Embedded Software Entwickler
                    \item Mitglied des \href{http://www.netz39.de/}{Netz39}
                        Hackerspace in Magdeburg
                    \item Mitglied des
                        \href{https://www.nettworks.org/}{net(t)work(s)~e.\,V.}
                \end{itemize}
            \end{block}
        \end{column}
        %\pause
        \begin{column}{0.3\textwidth}
            \begin{block}{Projekte}
                \begin{itemize}
                    \item \href{https://www.fli4l.de/}{fli4l}
                    \item \href{https://buildroot.org/}{buildroot}
                    \item \href{https://ptxdist.org/}{ptxdist}
                    \item \href{https://github.com/rafaelsteil/libcgi}{libcgi}
                    %\item \href{https://freifunk.net/}{Freifunk}
                    \item \href{https://www.kernel.org/}{Linux}
                    \item \href{https://www.denx.de/wiki/U-Boot/}{U-Boot}
                \end{itemize}
            \end{block}
        \end{column}
    \end{columns}
\end{frame}

\section{Router}

\begin{frame}{Router}
    \begin{figure}
        \pgfuseimage{cisco7600}
    \end{figure}
    \pause
    \begin{tikzpicture}[remember picture,overlay]
        \node[anchor=center] at (current page.center) {%
            \input{img/not_today.tikz}
        };
    \end{tikzpicture}
\end{frame}

\begin{frame}
    \frametitle{Router}
    \framesubtitle{Plasterouter}
    \begin{columns}[T]
        \begin{column}{0.15\textwidth}
            ~
        \end{column}
        \begin{column}{0.35\textwidth}
            \pgfuseimage{wdr4300}
            \vspace{1.2mm}
            \pgfuseimage{di524}
        \end{column}
        \begin{column}{0.35\textwidth}
            \pgfuseimage{fb6490}
            \vspace{1.2mm}
            \pgfuseimage{wrt54g}
        \end{column}
        \begin{column}{0.15\textwidth}
            ~
        \end{column}
    \end{columns}
    \pause
    \begin{tikzpicture}[remember picture,overlay]
        \node[anchor=center] at (current page.center) {%
            \input{img/not_today.tikz}
        };
    \end{tikzpicture}
\end{frame}

\begin{frame}
    \frametitle{Router}
    \framesubtitle{Now we're talking …}
    \begin{columns}[T]
        \begin{column}{0.1\textwidth}
            ~
        \end{column}
        \begin{column}{0.4\textwidth}
            \pgfuseimage{gallery-rack}
            \vspace{1.2mm}
            \pgfuseimage{gallery-tobi}
        \end{column}
%        \begin{column}{1.2mm}
%            ~
%        \end{column}
        \begin{column}{0.4\textwidth}
            \pgfuseimage{gallery-mikro}
            \vspace{1.2mm}
            \pgfuseimage{gallery-wrap}
        \end{column}
        \begin{column}{0.1\textwidth}
            ~
        \end{column}
    \end{columns}
\end{frame}

\begin{frame}
    \frametitle{Router}
    \framesubtitle{Was tut ein Router eigentlich?}
    \begin{columns}[T,onlytextwidth]
        \begin{column}{0.65\textwidth}
            \begin{itemize}
                \item Weiterleitung von Netzwerkpaketen
                \item Netzwerk-Schicht 3 (OSI)
                \item verbindet verschiedene IP-Netze\\(direkt oder über VPN)
                \item bindet private Netze an öffentliche Netze an
                \item filtert Pakete (Firewall)
                \item Hardware integriert ggf. andere Funktionen
                    \begin{itemize}
                        \item Modem (DSL, Kabel, …)
                        \item Switch, WLAN / WiFi
                        \item Telefonie (VoIP, DECT, …)
                    \end{itemize}
                \item erfüllt z.\,T. einfache Serveraufgaben
                    \begin{itemize}
                        \item DNS / DHCP
                        \item File-/Media-Server
                    \end{itemize}
            \end{itemize}
        \end{column}
        \begin{column}{0.35\textwidth}
            \begin{figure}
                \pgfuseimage{apu1}
                \caption{apu1 von \href{https://pcengines.ch/apu.htm}{PC~Engines™}}
            \end{figure}
        \end{column}
    \end{columns}
\end{frame}

\begin{frame}
    \frametitle{Routerfreiheit}
    \framesubtitle{Telekommunikationsgesetz (TKG), Teil 2 - Marktregulierung,\\
        Abschnitt 4 - Sonstige Verpflichtungen}

\blockquote[\href{https://dejure.org/gesetze/TKG/41b.html\#Abs1}{§ 41b
Abs. 1 TKG}]{\small%
\strong{§ 41b Anschluss von Telekommunikationsendeinrichtungen}

\footnotesize (1) Die Betreiber öffentlicher Telekommunikationsnetze und
die Anbieter von öffentlich zugänglichen Telekommunikationsdiensten
dürfen den Anschluss von Telekommunikationsendeinrichtungen an das
öffentliche Telekommunikationsnetz nicht verweigern, wenn die
Telekommunikationsendeinrichtungen die grundlegenden Anforderungen nach
der
\href{http://eur-lex.europa.eu/legal-content/DE/TXT/?uri=celex:32014L0030&locale=de}{Richtlinie 2014/30/EU}
des Europäischen Parlaments und des Rates vom 26. Februar 2014 zur
Harmonisierung der Rechtsvorschriften der Mitgliedstaaten über die
elektromagnetische Verträglichkeit
(\href{http://eur-lex.europa.eu/legal-content/DE/AUTO/?uri=uriserv:OJ.L_.2014.096.01.0079.01.DEU&locale=de&toc=OJ:L:2014:096:TOC}{ABl. L 96 vom 29.3.2014, S. 79})
erfüllen. Sie können dem Teilnehmer Telekommunikationsendeinrichtungen
überlassen, dürfen aber deren Anschluss und Nutzung nicht zwingend
vorschreiben. Notwendige Zugangsdaten und Informationen für den
Anschluss von Telekommunikationsendeinrichtungen und die Nutzung der
Telekommunikationsdienste haben sie dem Teilnehmer in Textform
unaufgefordert und kostenfrei bei Vertragsschluss zur Verfügung zu
stellen.}
\end{frame}

\begin{frame}
    \frametitle{Routerfreiheit}
    \framesubtitle{Hold my Beer …}
    \begin{figure}
        \pgfuseimage{gallery-sternquell}
        \caption{aus der \href{http://extern.fli4l.de/fli4l_praxis_gallery/main.php}{fli4l Praxis-Galerie}}
    \end{figure}
\end{frame}

\begin{frame}{Router-Software}
    \begin{itemize}
        \item Wikipedia: \href{https://en.wikipedia.org/wiki/List_of_router_and_firewall_distributions}{List of router and firewall distributions}
    \end{itemize}
    \begin{columns}[c,onlytextwidth]
        \begin{column}{0.65\textwidth}
            \begin{exampleblock}{Free/Libre and Open Source Software}
                \begin{itemize}
                    \item \href{https://openwrt.org/}{OpenWrt} (GNU/Linux)
                    \item \href{https://opnsense.org/}{OPNsense®} (BSD)
                    \item \href{https://www.ipfire.org/}{IPFire} (GNU/Linux)
                    \item \strong{\href{https://www.fli4l.de/}{fli4l}} (GNU/Linux)
                \end{itemize}
            \end{exampleblock}
        \end{column}
        \begin{column}{0.32\textwidth}
            \input{../img/tux.tikz}
        \end{column}
    \end{columns}
    \begin{alertblock}{Non-Free Router Operating Systems}
        \begin{itemize}
            \item EdgeOS™ (Ubiquiti)
            \item RouterOS (MikroTik)
            \item Internetwork Operating System (Cisco)
            \item Junos OS (Juniper)
            \item Fritz!OS (AVM)
        \end{itemize}
    \end{alertblock}
\end{frame}

\begin{frame}{F(L)OSS -- Free/Libre and OpenSource Software}
    \begin{block}{Freie Software nach Definition von GNU, FSF, FSFE}
        \begin{description}
            \item[Freiheit 1] \strong{Verwenden.} {\small Die Freiheit,
                das Programm auszuführen wie man möchte, für jeden
                Zweck.}
            \item[Freiheit 2] \strong{Verstehen.} {\small Die Freiheit,
                die Funktionsweise eines Programms zu untersuchen, und
                es an seine Bedürfnisse anzupassen.}
            \item[Freiheit 3] \strong{Verbreiten.} {\small Die Freiheit,
                Kopien weiterzugeben und damit seinen Mitmenschen zu
                helfen.}
            \item[Freiheit 4] \strong{Verbessern.} {\small Die Freiheit,
                ein Programm zu verbessern, und die Verbesserungen
                an die Öffentlichkeit weiterzugeben, sodass die
                gesamte Gesellschaft profitiert.}
        \end{description}
    \end{block}
    \pause
    \begin{block}{Open Source Software}
        \begin{itemize}
            \item Freizügigere Lizenzen (permissive licenses)
        \end{itemize}
    \end{block}
\end{frame}

\section{fli4l}

\subsection{Geschichte}

\begin{frame}{So fing alles an …}
    \blockquote{\scriptsize%
\strong{Forum:} de.alt.comm.isdn4linux\\
\strong{Subject:} 1-Disketten-i4l-Router\\
\strong{Date:} \greenemph{04/05/2000}\\
\strong{Author:} Frank Meyer
\tiny

Liebe Liste,

ich habe mir zu Hause aus einem alten \greenemph{486er} und einer einzelnen
\greenemph{Diskette(!)} einen i4l-Router zusammengebaut.

Features:\\
- Linux 2.0.35\\
- isdn4linux-Router\\
- IP-Masquerading\\
- DNS-Server, damit nicht jede Windoof-Anfrage in's Netz geht.\\
- Netzwerkfähiger imon-Clone\\

Hardwareausstattung\\
- AMD 486 DX4-100\\
- \greenemph{16MB Speicher}\\
- \greenemph{10 Mbit Netzwerkkarte} (NE2000-Clone)\\
- Teles 16.3 \greenemph{ISDN-Karte}\\
- Keine Laufwerke ausser Diskettenlaufwerk\\
- 1 Boot-Diskette, alles notwendige drauf\\

Für die Win-PC's, die über den i4l-Rechner in's Internet gehen, habe
ich noch ein Windows-Programm geschrieben, um den ISDN-Status vom
i4l-Router imon-like im Fenster anzuzeigen.

Bei mir zu Hause läuft das Ganze mit dem Internet-By-Call-Provider LN,
sollte aber auch mit jedem anderen funktionieren, der PPP verwendet.
Andere findet man z.B. auf www.heise.de.

Der \greenemph{Kernel 2.0.35} ist zwar nicht mehr ganz aktuell. Ich habe aber
keine andere Möglichkeit gefunden, das alles auf eine Diskette zu quetschen.

Sollten einige (mehr als 1 :-) an dem 1-Disketten-i4l-Router
interessiert sein, würde ich mir die Arbeit machen, das Ganze
dokumentieren und als Open-Source-Projekt zur Verfügung stellen.
    }
\end{frame}

\subsection{Überblick}

\begin{frame}{fli4l}
    \begin{columns}[T,onlytextwidth]
        \begin{column}{0.6\textwidth}
            \begin{itemize}
                \item \strong{fl}oppy \strong{i}sdn \strong{for} \strong{l}inux
                \item \strong{fl}exible \strong{i}nternet router \strong{for}
                    \strong {l}inux
                \item<2-> Linux-Distribution
                \item<2-> im Jahr 2000 von Diskette für ISDN
                \item<2-> einfache Konfiguration
                \item<2-> ältere Hardware
                \item<3-> heute
                    \begin{itemize}
                        \item \soutthick{Diskette}
                        \item CF, SD, CD, HDD, …
                        \item *DSL, UMTS/LTE, WLAN, …
                        \item IPv6, VPN, DMZ, VLAN, …
                        \item LCD, SBC, …
                        \item min. i586 CPU, 64 MiB RAM
                    \end{itemize}
            \end{itemize}
        \end{column}
        \begin{column}{0.37\textwidth}
            \begin{figure}
                \input{../img/fli4l-cubeonly-scale_0.2.tikz}
            \end{figure}
        \end{column}
    \end{columns}
\end{frame}

\subsection{Installation und Konfiguration}

\begin{frame}{Laden und Entpacken der Archive}
    \begin{figure}
        \pgfuseimage{dlarch}
    \end{figure}
\end{frame}

\begin{frame}{Ordnerstruktur nach dem Auspacken}
    \begin{figure}
        \pgfuseimage{unpacked-tarball}
    \end{figure}

    \begin{columns}[T,onlytextwidth]
        \begin{column}{0.5\textwidth}
            \begin{block}{Wichtige Dateien und Ordner}
                \begin{itemize}
                    \item \texttt{config}
                    \item \texttt{doc}
                    \item \texttt{mkfli4l.bat}
                    \item \texttt{mkfli4l.sh}
                \end{itemize}
            \end{block}
        \end{column}
        \begin{column}{0.5\textwidth}
            \begin{figure}
                \pgfuseimage{config-folder}
            \end{figure}
        \end{column}
    \end{columns}
\end{frame}

\begin{frame}[fragile]{General Settings}
    \begin{itemize}
        \item Textdateien \texttt{*.txt} im Ordner \texttt{config}
        \item einfaches Format mit Zuweisungen wie in
            Shell-Skripten\footnote{erweitertes Format mit vereinfachter
            Array-Syntax\\möglich, siehe Folie \ref{extarray}}
        \item einfach mit Git o.\,ä, zu versionieren
    \end{itemize}

    \begin{lstlisting}[%
        basicstyle=\ttfamily\scriptsize\mdseries,
        language=sh
    ]
HOSTNAME='nixalsverdrus' # name of fli4l router
PASSWORD='fli4l'         # password for root login (console, sshd,
                         # imond)
BOOT_TYPE='hd'           # boot device: hd, cd, ls120, integrated,
                         # attached, netboot, pxeboot
KERNEL_VERSION='4.19.80' # kernel version
KERNEL_BOOT_OPTION=''    # append option to kernel command line
COMP_TYPE_OPT='xz'       # compression algorithm if compression is
                         # enabled for OPT archive;
                         # NOTE that some boot types may disallow
                         # some compression algorithms
    \end{lstlisting}
\end{frame}

\begin{frame}{mkfli4l}
    \begin{itemize}
        \item Image oder Remote-Update
    \end{itemize}
    \begin{columns}[t,onlytextwidth]
        \begin{column}{0.5\textwidth}
            \begin{block}{Linux}
                \begin{itemize}
                    \item \texttt{mkfli4l.sh}
                    \item Variable \texttt{BOOT\_TYPE} aus \texttt{<config>/base.txt}
                    \item Konfigurationsdatei \texttt{<config>/mkfli4l.txt}
                    \item Parameter beim Aufruf
                \end{itemize}
            \end{block}
        \end{column}
        \begin{column}{0.5\textwidth}
            \begin{block}{Windows}
                \begin{figure}
                    \pgfuseimage{win-build-build}
                    %\caption{fli4l-Build unter Windows}
                \end{figure}
            \end{block}
        \end{column}
    \end{columns}
\end{frame}

\subsection{Möglichkeiten und Einsatzszenarien}

\begin{frame}{Circuits}
    \todo{Doku und Wiki nach verständlichen Illustrationen abgrasen}
\end{frame}

\begin{frame}{Mehrere Subnetze}
    \begin{columns}[T]
        \begin{column}{0.4\textwidth}
            \begin{figure}
                \pgfuseimage{dmz}
                %\caption{Quelle: fli4l-Wiki (\href{https://web.nettworks.org/wiki/x/LAAdAQ}{DMZ mit dem fli4l})}
            \end{figure}
        \end{column}
        \begin{column}{0.58\textwidth}
            Quelle: fli4l-Wiki (\href{https://web.nettworks.org/wiki/x/LAAdAQ}{DMZ mit dem fli4l})
        \end{column}
    \end{columns}
\end{frame}

\begin{frame}[fragile]{Mehrere Subnetze}
    \framesubtitle{Demilitarisierte Zone (DMZ)}
    \begin{itemize}
        \item aka mehrere Subnetze mit bestimmten Firewall-Regeln
        \item iptables basierter Paketfilter (base)
        \item Bridges, IEEE 802.1Q tagged VLAN, … (advanced\_networking)
    \end{itemize}
    \pause
    \begin{lstlisting}[%
        basicstyle=\ttfamily\scriptsize\mdseries,
        language=sh
    ]
VLAN_DEV_1_DEV='eth2'
VLAN_DEV_1_VID='128'
BRIDGE_DEV_1_DEVNAME='br0'
BRIDGE_DEV_1_DEV_1_DEV='eth1'
BRIDGE_DEV_1_DEV_2_DEV='eth2.128'

IP_NET_1='192.168.6.1/24'   # internes Netz (LAN)
IP_NET_1_DEV='br0'          # (gruen)
IP_NET_2='192.168.7.1/24'   # DMZ Netz
IP_NET_2_DEV='eth1.9'       # (orange)

PF_FORWARD_1='tmpl:samba DROP'
PF_FORWARD_2='if:IP_NET_1_DEV:any IP_NET_1 ACCEPT'
PF_FORWARD_3='IP_NET_2 IP_NET_1 REJECT'
PF_FORWARD_4='if:IP_NET_2_DEV:any IP_NET_2 ACCEPT'
    \end{lstlisting}
\end{frame}

\begin{frame}[fragile,label=extarray]{Erweiterte Array-Syntax}
    \emph{\small klassisch:}
    \begin{lstlisting}[%
        basicstyle=\ttfamily\scriptsize\mdseries,
        language=sh
    ]
NET_PREFIX_N='2'
NET_PREFIX_1_NAME='sg'
NET_PREFIX_1_TYPE='static'
NET_PREFIX_1_STATIC_IPV6='2001:db8:620a:3cd9::/64'
NET_PREFIX_2_NAME='ula-clients'
NET_PREFIX_2_TYPE='generated-ula'
NET_PREFIX_2_ULA_DEV='eth1'
    \end{lstlisting}
    \pause
    \emph{\small ab fli4l 4.0:}
    \begin{lstlisting}[%
        basicstyle=\ttfamily\scriptsize\mdseries,
        language=sh
    ]
NET_PREFIX[] {
  NAME='sg'
  TYPE='static'
  STATIC_IPV6='2001:db8:620a:3cd9::/64'
}
NET_PREFIX[] {
  NAME='ula-clients'
  TYPE='generated-ula'
  ULA_DEV='eth1'
}
    \end{lstlisting}
\end{frame}

\subsection{Entwicklung}

\begin{frame}
    \frametitle{Fli4l Buildroot (FBR)}
    \framesubtitle{Shoulders, Wheels, Collaboration, …}
    \begin{columns}[T,onlytextwidth]
        \begin{column}{0.65\textwidth}
            \begin{itemize}
                \item Binaries gebaut mit selbst erweitertem \href{https://buildroot.org/}{Buildroot}
                \item Nutzung der LTS-Releases: aktuell v2018.02.x
                \item einige fli4l-spezifische Packages
                \item z.\,T. upstreaming von Packages
                \item einige fli4l-spezifische Patches
                \item zwei Kernelvarianten: LTS und recent stable, aktuell noch v4.19 und v5.3
                \item dadurch zeitnahe Integration von (Security)-Updates
                \item \texttt{fbr-make \dashdash{help}}
            \end{itemize}
        \end{column}
        \begin{column}{0.35\textwidth}
            \begin{figure}
                \pgfuseimage{buildroot-logo}
            \end{figure}
        \end{column}
    \end{columns}
\end{frame}

\begin{frame}{Kommunikation}
    \begin{description}[Newsgroups]
        \item[WWW] \url{https://www.fli4l.de/}
        \item[Newsgroups] \emph{spline.fli4l}, \emph{spline.fli4l.dev}
            und weitere
        \item[Forum] \url{https://web.nettworks.org/forum/}
        \item[IRC] \emph{\#fli4l} und \emph{\#fli4l-dev} auf
            \href{https://freenode.net/}{freenode}
        \item[Bugtracker] \url{https://web.nettworks.org/bugs/browse/FFL}
        \item[Wiki] \small
            \url{https://web.nettworks.org/wiki/display/f/fli4l-Wiki}
            \normalsize
        \item[E-Mail] teaminterne Mailinglisten und bald eine offene Liste …
    \end{description}
\end{frame}

\section*{Was noch?}

\begin{frame}{Die vorletzte Folie}
    \begin{block}{Kontakt}
        \begin{description}[Twitter]
            \item [WWW] \href{https://www.fli4l.de/}{fli4l.de} or
                    \href{https://www.nettworks.org/}{nettworks.org}
            \item [Twitter] \href{https://twitter.com/fli4l}{@fli4l}
        \end{description}
    \end{block}
    \begin{block}{Folien}
        \begin{itemize}
            \item \url{https://github.com/nettworks-e-V/Talks}
        \end{itemize}
    \end{block}
    \begin{block}{Lizenz}
        Dieses Werk ist lizenziert unter einer
        \href{http://creativecommons.org/licenses/by-sa/4.0/}{Creative Commons
        Namensnennung - Weitergabe unter gleichen Bedingungen 4.0 International
        Lizenz}.
    \end{block}
\end{frame}

%\appendix

\begin{frame}{Lizenzen}
    \begin{block}{Router}
        \small
        \begin{itemize}
            \item Bild des Cisco Routers ist unter der Creative-Commons-Lizenz
                \href{https://creativecommons.org/licenses/by-sa/3.0/deed.de}{Namensnennung
                – Weitergabe unter gleichen Bedingungen 3.0 nicht portiert}
                lizenziert. Urheber: Cisco Systems Inc. Unverändert übernommen
                von
                \href{https://commons.wikimedia.org/wiki/File:Cisco7600seriesrouter.jpg}{Wikimedia}.
            \item Bild des Linksys Routers ist unter der
                Creative-Commons-Lizenz
                \href{https://creativecommons.org/licenses/by-sa/3.0/deed.de}{Namensnennung
                – Weitergabe unter gleichen Bedingungen 3.0 nicht portiert}
                lizenziert. Unverändert übernommen von
                \href{https://commons.wikimedia.org/wiki/File:Linksys_BEFSR41_Router_20040321.jpg}{Wikimedia}.
            \item Bild der Fritz!Box ist unter der Creative-Commons-Lizenz
                \href{https://creativecommons.org/licenses/by-sa/3.0/deed.de}{Namensnennung
                – Weitergabe unter gleichen Bedingungen 3.0 nicht portiert}
                lizenziert. Urheber:
                \href{https://commons.wikimedia.org/wiki/User:Wikifreund}{Wikifreund}.
                Unverändert übernommen von
                \href{https://commons.wikimedia.org/wiki/File:FRITZ!Box_6490_Cable.JPG}{Wikimedia}.
            \item Bild des D-Link Routers ist unter der Creative-Commons-Lizenz
                \href{https://creativecommons.org/licenses/by-sa/3.0/deed.de}{Namensnennung
                – Weitergabe unter gleichen Bedingungen 3.0 nicht portiert}
                lizenziert. Namensnennung:
                \href{https://zh.wikipedia.org/wiki/User:Weihao.chiu}{Weihao.chiui}.
                Unverändert übernommen von
                \href{https://commons.wikimedia.org/wiki/File:D-Link_DI-524.jpg}{Wikimedia}.
        \end{itemize}
        \normalsize
    \end{block}
\end{frame}

\begin{frame}{Lizenzen}
    \begin{block}{The Linux Mascot}
        Penguin Tux by \href{mailto:lewing@isc.tamu.edu}{Larry Ewing}
        and \href{http://isc.tamu.edu/~lewing/linux/}{The GIMP},
        vectorized by \href{http://www.home.unix-ag.org/simon/}{Simon Budig},
        converted to TikZ by
        \href{http://www.texample.net/weblog/2012/apr/28/tux-tex-tikz/}{Stefan Kottwitz}.
    \end{block}
\end{frame}

\end{document}
